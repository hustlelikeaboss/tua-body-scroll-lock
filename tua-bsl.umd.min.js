/**
 * tua-body-scroll-lock v1.3.1
 * (c) 2023 Evinma, BuptStEve
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bodyScrollLock={})}(this,(function(t){"use strict";var e=function(){return"undefined"==typeof window},o=function(t){t=t||navigator.userAgent;var e=/(iPad).*OS\s([\d_]+)/.test(t);return{ios:!e&&/(iPhone\sOS)\s([\d_]+)/.test(t)||e,android:/(Android);?[\s/]+([\d.]+)?/.test(t)}};var n=0,i=0,r=0,s=null,c=!1,l=[],d=function(t){if(e())return!1;if(!t)throw new Error("options must be provided");var o=!1,n={get passive(){o=!0}},i=function(){},r="__TUA_BSL_TEST_PASSIVE__";window.addEventListener(r,i,n),window.removeEventListener(r,i,n);var s=t.capture;return o?t:void 0!==s&&s}({passive:!1}),u=!e()&&"scrollBehavior"in document.documentElement.style,f=function(t){t.cancelable&&t.preventDefault()};t.clearBodyLocks=function(){if(!e())if(n=0,o().ios||"function"!=typeof s){if(l.length)for(var t=l.pop();t;)t.ontouchmove=null,t.ontouchstart=null,t=l.pop();c&&(document.removeEventListener("touchmove",f,d),c=!1)}else s()},t.lock=function(t){if(!e()){if(o().ios){if(t)(Array.isArray(t)?t:[t]).forEach((function(t){t&&-1===l.indexOf(t)&&(t.ontouchstart=function(t){i=t.targetTouches[0].clientY,r=t.targetTouches[0].clientX},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){if(e){var o=e.scrollTop,n=e.scrollLeft,s=e.scrollWidth,c=e.scrollHeight,l=e.clientWidth,d=e.clientHeight,u=t.targetTouches[0].clientX-r,a=t.targetTouches[0].clientY-i,h=Math.abs(a)>Math.abs(u);if(h&&(a>0&&0===o||a<0&&o+d+1>=c)||!h&&(u>0&&0===n||u<0&&n+l+1>=s))return f(t)}t.stopPropagation()}(e,t)},l.push(t))}));c||(document.addEventListener("touchmove",f,d),c=!0)}else n<=0&&(s=o().android?(a=document.documentElement,h=document.body,v=a.scrollTop||h.scrollTop,p=Object.assign({},a.style),y=Object.assign({},h.style),a.style.height="100%",a.style.overflow="hidden",h.style.top="-".concat(v,"px"),h.style.width="100%",h.style.height="auto",h.style.position="fixed",h.style.overflow="hidden",function(){a.style.height=p.height||"",a.style.overflow=p.overflow||"",["top","width","height","overflow","position"].forEach((function(t){h.style[t]=y[t]||""}));var t={top:v,behavior:"instant"};u?window.scrollTo(t):window.scrollTo(0,v)}):function(){var t=document.documentElement,e=Object.assign({},t.style),o=window.innerWidth-t.clientWidth,n=parseInt(window.getComputedStyle(t).paddingRight,10);return t.style.overflow="hidden",t.style.boxSizing="border-box",t.style.paddingRight="".concat(o+n,"px"),function(){["overflow","boxSizing","paddingRight"].forEach((function(o){t.style[o]=e[o]||""}))}}());var a,h,v,p,y;n+=1}},t.unlock=function(t){if(!(e()||(n-=1)>0))if(o().ios||"function"!=typeof s){if(t)(Array.isArray(t)?t:[t]).forEach((function(t){var e=l.indexOf(t);-1!==e&&(t.ontouchmove=null,t.ontouchstart=null,l.splice(e,1))}));c&&(document.removeEventListener("touchmove",f,d),c=!1)}else s()}}));
